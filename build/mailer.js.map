{"version":3,"sources":["../src/mailer.js"],"names":["sendConfirmationEmail","sendResetPasswordEmail","sendPasswordChangedEmail","from","setup","nodemailer","createTransport","host","process","env","EMAIL_HOST","port","EMAIL_PORT","auth","user","EMAIL_USER","pass","EMAIL_PASS","tranport","email","to","subject","text","generateConfirmationUrl","sendMail","generateResetPasswordLink","password"],"mappings":";;;;;QAegBA,qB,GAAAA,qB;QAcAC,sB,GAAAA,sB;QAcAC,wB,GAAAA,wB;;AA3ChB;;;;;;AAEA,IAAMC,OAAO,iCAAb;;AAEA,SAASC,KAAT,GAAiB;AACb,WAAOC,qBAAWC,eAAX,CAA2B;AAC9BC,cAAMC,QAAQC,GAAR,CAAYC,UADY;AAE9BC,cAAMH,QAAQC,GAAR,CAAYG,UAFY;AAG9BC,cAAM;AACFC,kBAAMN,QAAQC,GAAR,CAAYM,UADhB;AAEFC,kBAAMR,QAAQC,GAAR,CAAYQ;AAFhB;AAHwB,KAA3B,CAAP;AAQH;;AAEM,SAASjB,qBAAT,CAA+Bc,IAA/B,EAAqC;AACxC,QAAMI,WAAWd,OAAjB;AACA,QAAMe,QAAQ;AACVhB,kBADU;AAEViB,YAAIN,KAAKK,KAFC;AAGVE,iBAAS,sBAHC;AAIVC,8EACER,KAAKS,uBAAL,EADF;AAJU,KAAd;;AASAL,aAASM,QAAT,CAAkBL,KAAlB;AACH;;AAEM,SAASlB,sBAAT,CAAgCa,IAAhC,EAAsC;AACzC,QAAMI,WAAWd,OAAjB;AACA,QAAMe,QAAQ;AACVhB,kBADU;AAEViB,YAAIN,KAAKK,KAFC;AAGVE,iBAAS,gBAHC;AAIVC,6EACER,KAAKW,yBAAL,EADF;AAJU,KAAd;;AASAP,aAASM,QAAT,CAAkBL,KAAlB;AACH;;AAEM,SAASjB,wBAAT,CAAkCY,IAAlC,EAAwCY,QAAxC,EAAkD;AACrD,QAAMR,WAAWd,OAAjB;AACA,QAAMe,QAAQ;AACVhB,kBADU;AAEViB,YAAIN,KAAKK,KAFC;AAGVE,iBAAS,kBAHC;AAIVC,iHAIiBI,QAJjB;AAJU,KAAd;;AAiBAR,aAASM,QAAT,CAAkBL,KAAlB;AACH","file":"mailer.js","sourcesContent":["import nodemailer from \"nodemailer\";\n\nconst from = '\"Type-Race\" <info@typerace.com>';\n\nfunction setup() {\n    return nodemailer.createTransport({\n        host: process.env.EMAIL_HOST,\n        port: process.env.EMAIL_PORT,\n        auth: {\n            user: process.env.EMAIL_USER,\n            pass: process.env.EMAIL_PASS\n        }\n    });\n}\n\nexport function sendConfirmationEmail(user) {\n    const tranport = setup();\n    const email = {\n        from,\n        to: user.email,\n        subject: \"Welcome to Type-Race\",\n        text: `Welcome to Type-Race. Please, confirm your email.\n        ${user.generateConfirmationUrl()}\n        `\n    };\n\n    tranport.sendMail(email);\n}\n\nexport function sendResetPasswordEmail(user) {\n    const tranport = setup();\n    const email = {\n        from,\n        to: user.email,\n        subject: \"Reset Password\",\n        text: ` Please follow this link to reset your password.\n        ${user.generateResetPasswordLink()}\n        `\n    };\n\n    tranport.sendMail(email);\n}\n\nexport function sendPasswordChangedEmail(user, password) {\n    const tranport = setup();\n    const email = {\n        from,\n        to: user.email,\n        subject: \"Password Changed\",\n        text: `Dear User,\n\nYou've Successsfully reset your password on Bookworm.\n\nYour new Password is : ${password}\n\nIf you're receiving this email and have NOT actually reset your password,\ncontact us immediately at support@bookworm.com for assistance.\n\nSincerely,\nYor Type-Race Team`\n    };\n\n    tranport.sendMail(email);\n}\n\n"]}