{"version":3,"sources":["../../../src/typeRace/handlers/disconnectHandler.js"],"names":["disconnectHandler","socket","players","guests","allPlayers","map","player","indx","user","email","length","emit","splice"],"mappings":";;;;;QAAgBA,iB,GAAAA,iB;;;;AAAT,SAASA,iBAAT,CAA2BC,MAA3B,EAAmCC,OAAnC,EAA4CC,MAA5C,EAAoD;AACvD,QAAMC,0CAAiBF,OAAjB,sBAA6BC,MAA7B,EAAN;AACAC,eAAWC,GAAX,CAAe,UAACC,MAAD,EAASC,IAAT,EAAkB;AAC7B,YAAKD,OAAOL,MAAP,KAAkBA,MAAnB,IAA+BK,OAAOE,IAAP,CAAYC,KAAZ,KAAsB,OAAzD,EAAmE;AAC/D,gBAAIP,QAAQQ,MAAR,GAAiB,CAAjB,KAAuB,CAA3B,EAA8B;AAC1B,oBAAI,CAACH,OAAO,CAAR,IAAa,CAAb,KAAmB,CAAvB,EAA0B;AACtBL,4BAAQK,OAAO,CAAf,EAAkBN,MAAlB,CAAyBU,IAAzB,CAA8B,qBAA9B,EAAqD,uBAArD;AACAT,4BAAQU,MAAR,CAAeL,OAAO,CAAtB,EAAyB,CAAzB;AACH,iBAHD,MAIK,IAAIA,OAAO,CAAP,KAAa,CAAjB,EAAoB;AACrBL,4BAAQK,OAAO,CAAf,EAAkBN,MAAlB,CAAyBU,IAAzB,CAA8B,qBAA9B,EAAqD,uBAArD;AACAT,4BAAQU,MAAR,CAAeL,IAAf,EAAqB,CAArB;AACH;AACJ;AACJ,SAXD,MAWO,IAAKD,OAAOL,MAAP,KAAkBA,MAAnB,IAA+BK,OAAOE,IAAP,CAAYC,KAAZ,KAAsB,OAAzD,EAAmE;AACtE,gBAAIN,OAAOO,MAAP,GAAgB,CAAhB,KAAsB,CAA1B,EAA6B;AACzB,oBAAI,CAACH,OAAO,CAAR,IAAa,CAAb,KAAmB,CAAvB,EAA0B;AACtBJ,2BAAOI,OAAO,CAAd,EAAiBN,MAAjB,CAAwBU,IAAxB,CAA6B,qBAA7B,EAAoD,uBAApD;AACAR,2BAAOS,MAAP,CAAcL,OAAO,CAArB,EAAwB,CAAxB;AACH,iBAHD,MAIK,IAAIA,OAAO,CAAP,KAAa,CAAjB,EAAoB;AACrBJ,2BAAOI,OAAO,CAAd,EAAiBN,MAAjB,CAAwBU,IAAxB,CAA6B,qBAA7B,EAAoD,uBAApD;AACAR,2BAAOS,MAAP,CAAcL,IAAd,EAAoB,CAApB;AACH;AACJ;AACJ,SAXM,MAaF;AAAE;AAAQ;AAClB,KA1BD;AA2BH","file":"disconnectHandler.js","sourcesContent":["export function disconnectHandler(socket, players, guests) {\n    const allPlayers = [...players, ...guests]\n    allPlayers.map((player, indx) => {\n        if ((player.socket === socket) && (player.user.email !== 'guest')) {\n            if (players.length % 2 === 0) {\n                if ((indx + 1) % 2 === 0) {\n                    players[indx - 1].socket.emit('player-disconnected', 'Oponent disconnected!')\n                    players.splice(indx - 1, 2)\n                }\n                else if (indx % 2 === 0) {\n                    players[indx + 1].socket.emit('player-disconnected', 'Oponent disconnected!')\n                    players.splice(indx, 2)\n                }\n            }\n        } else if ((player.socket === socket) && (player.user.email === 'guest')) {\n            if (guests.length % 2 === 0) {\n                if ((indx + 1) % 2 === 0) {\n                    guests[indx - 1].socket.emit('player-disconnected', 'Oponent disconnected!')\n                    guests.splice(indx - 1, 2)\n                }\n                else if (indx % 2 === 0) {\n                    guests[indx + 1].socket.emit('player-disconnected', 'Oponent disconnected!')\n                    guests.splice(indx, 2)\n                }\n            }\n        }\n\n        else { return }\n    })\n}"]}